{
  String localBase=tmpDir.getAbsolutePath() + "/local";
  String remoteBase=tmpDir.getAbsolutePath() + "/remote";
  ZAN zan=new ZAN("file://" + zanrepoDir.getAbsolutePath(),localBase,remoteBase,dfs);
  zan.update();
  git=Git.open(lib1repoDir);
  FileUtils.writeStringToFile(new File(lib1repoDir,"res"),"res");
  git.add().addFilepattern("res").call();
  RevCommit cm=git.commit().setMessage("add resources").call();
  git.push();
  zan.install("lib1",null);
  zan.install("lib2",null);
  assertTrue(new File(localBase,"lib1").isDirectory());
  assertTrue(new File(localBase,"lib2").isDirectory());
  assertTrue(new File(remoteBase,"lib1").isDirectory());
  assertTrue(new File(remoteBase,"lib2").isDirectory());
  zan.uninstall("lib1");
  assertFalse(new File(localBase,"lib1").isDirectory());
  assertTrue(new File(localBase,"lib2").isDirectory());
  assertFalse(new File(remoteBase,"lib1").isDirectory());
  assertTrue(new File(remoteBase,"lib2").isDirectory());
}
