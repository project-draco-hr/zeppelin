{
  System.setProperty(ZeppelinHubRepo.ZEPPELIN_CONF_PROP_NAME_SERVER,testAddr);
  ZeppelinConfiguration config=new ZeppelinConfiguration();
  ZeppelinHubRepo repository=new ZeppelinHubRepo(config);
  assertThat(repository.getZeppelinhubWebsocketUri(config)).isEqualTo("ws://zeppelinhub.ltd:80/async");
  System.setProperty(ZeppelinHubRepo.ZEPPELIN_CONF_PROP_NAME_SERVER,"https://zeppelinhub.ltd");
  config=new ZeppelinConfiguration();
  repository=new ZeppelinHubRepo(config);
  assertThat(repository.getZeppelinhubWebsocketUri(config)).isEqualTo("wss://zeppelinhub.ltd:443/async");
  System.setProperty(ZeppelinHubRepo.ZEPPELIN_CONF_PROP_NAME_SERVER,"yolow");
  config=new ZeppelinConfiguration();
  repository=new ZeppelinHubRepo(config);
  assertThat(repository.getZeppelinhubWebsocketUri(config)).isEqualTo("wss://www.zeppelinhub.com:443/async");
  System.setProperty(ZeppelinHubRepo.ZEPPELIN_CONF_PROP_NAME_SERVER,"http://zeppelinhub.ltd:4242");
  config=new ZeppelinConfiguration();
  repository=new ZeppelinHubRepo(config);
  assertThat(repository.getZeppelinhubWebsocketUri(config)).isEqualTo("ws://zeppelinhub.ltd:4242/async");
  System.setProperty(ZeppelinHubRepo.ZEPPELIN_CONF_PROP_NAME_SERVER,"https://www.zeppelinhub.com");
  config=new ZeppelinConfiguration();
  repository=new ZeppelinHubRepo(config);
  assertThat(repository.getZeppelinhubWebsocketUri(config)).isEqualTo("wss://www.zeppelinhub.com:443/async");
  System.setProperty(ZeppelinHubRepo.ZEPPELIN_CONF_PROP_NAME_SERVER,"http://www.zeppelinhub.com");
  config=new ZeppelinConfiguration();
  repository=new ZeppelinHubRepo(config);
  assertThat(repository.getZeppelinhubWebsocketUri(config)).isEqualTo("ws://www.zeppelinhub.com:80/async");
  System.setProperty(ZeppelinHubRepo.ZEPPELIN_CONF_PROP_NAME_SERVER,"https://www.zeppelinhub.com:4242");
  config=new ZeppelinConfiguration();
  repository=new ZeppelinHubRepo(config);
  assertThat(repository.getZeppelinhubWebsocketUri(config)).isEqualTo("wss://www.zeppelinhub.com:4242/async");
}
