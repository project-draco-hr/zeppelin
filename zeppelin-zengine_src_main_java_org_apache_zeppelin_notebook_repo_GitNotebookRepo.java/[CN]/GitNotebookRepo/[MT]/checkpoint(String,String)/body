{
  try {
    List<DiffEntry> gitDiff=git.diff().call();
    if (!gitDiff.isEmpty()) {
      LOG.debug("Changes found for pattern '{}': {}",pattern,gitDiff);
      DirCache added=git.add().addFilepattern(pattern).call();
      LOG.debug("{} changes are about to be commited",added.getEntryCount());
      git.commit().setMessage(commitMessage).call();
    }
 else {
      LOG.debug("No changes found {}",pattern);
    }
  }
 catch (  GitAPIException e) {
    LOG.error("Failed to add+comit {} to Git",pattern,e);
  }
}
