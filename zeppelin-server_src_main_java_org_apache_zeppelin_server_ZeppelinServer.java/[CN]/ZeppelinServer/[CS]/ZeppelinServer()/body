{
  ZeppelinConfiguration conf=ZeppelinConfiguration.create();
  this.depResolver=new DependencyResolver(conf.getString(ConfVars.ZEPPELIN_INTERPRETER_LOCALREPO));
  this.schedulerFactory=new SchedulerFactory();
  this.replFactory=new InterpreterFactory(conf,notebookWsServer,notebookWsServer,depResolver);
  this.notebookRepo=new NotebookRepoSync(conf);
  this.notebookIndex=new LuceneSearch();
  this.notebookAuthorization=new NotebookAuthorization(conf);
  this.credentials=new Credentials(conf.credentialsPersist(),conf.getCredentialsPath());
  notebook=new Notebook(conf,notebookRepo,schedulerFactory,replFactory,notebookWsServer,notebookIndex,notebookAuthorization,credentials);
}
