{
  final ServletHolder cxfServletHolder=new ServletHolder(new CXFNonSpringJaxrsServlet());
  cxfServletHolder.setInitParameter("javax.ws.rs.Application",ZeppelinServer.class.getName());
  cxfServletHolder.setName("rest");
  cxfServletHolder.setForcedPath("rest");
  webapp.setSessionHandler(new SessionHandler());
  webapp.addServlet(cxfServletHolder,"/api/*");
  webapp.addFilter(new FilterHolder(CorsFilter.class),"/*",EnumSet.allOf(DispatcherType.class));
  webapp.setInitParameter("shiroConfigLocations",new File(conf.getShiroPath()).toURI().toString());
  webapp.addFilter(org.apache.shiro.web.servlet.ShiroFilter.class,"/*",EnumSet.allOf(DispatcherType.class));
  webapp.addEventListener(new org.apache.shiro.web.env.EnvironmentLoaderListener());
}
