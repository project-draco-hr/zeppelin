{
  Note note=notebook.createNote();
  note.getNoteReplLoader().setInterpreters(factory.getDefaultInterpreterSettingList());
  AngularObjectRegistry registry=note.getNoteReplLoader().getInterpreterSettings().get(0).getInterpreterGroup("sharedProcess").getAngularObjectRegistry();
  registry.add("o1","object1",note.id(),null);
  registry.add("o2","object2",null,null);
  factory.restart(note.getNoteReplLoader().getInterpreterSettings().get(0).id());
  registry=note.getNoteReplLoader().getInterpreterSettings().get(0).getInterpreterGroup("sharedProcess").getAngularObjectRegistry();
  assertNull(registry.get("o1",note.id(),null));
  assertNull(registry.get("o2",null,null));
  notebook.removeNote(note.id());
}
