{
  Note note=ZeppelinServer.notebook.createNote();
  note.addParagraph();
  Paragraph p=note.getLastParagraph();
  p.setText("%md markdown");
  note.run(p.getId());
  while (p.getStatus() != Status.FINISHED) {
    Thread.sleep(100);
  }
  assertEquals("<p>markdown</p>\n",p.getResult().message());
  for (  InterpreterSetting setting : note.getNoteReplLoader().getInterpreterSettings()) {
    if (setting.getName().equals("md")) {
      ZeppelinServer.notebook.getInterpreterFactory().restart(setting.id());
      break;
    }
  }
  p=note.addParagraph();
  p.setText("%md markdown restarted");
  note.run(p.getId());
  while (p.getStatus() != Status.FINISHED) {
    Thread.sleep(100);
  }
  assertEquals("<p>markdown restarted</p>\n",p.getResult().message());
}
