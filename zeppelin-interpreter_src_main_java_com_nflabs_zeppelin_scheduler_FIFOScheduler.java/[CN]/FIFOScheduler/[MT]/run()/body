{
synchronized (queue) {
    while (terminate == false) {
      if (runningJob != null || queue.isEmpty() == true) {
        try {
          queue.wait(500);
        }
 catch (        InterruptedException e) {
        }
        continue;
      }
      runningJob=queue.remove(0);
      final Scheduler scheduler=this;
      this.executor.execute(new Runnable(){
        public void run(){
          if (listener != null) {
            listener.jobStarted(scheduler,runningJob);
          }
          runningJob.run();
          if (listener != null) {
            listener.jobFinished(scheduler,runningJob);
          }
          runningJob=null;
synchronized (queue) {
            queue.notify();
          }
        }
      }
);
    }
  }
}
