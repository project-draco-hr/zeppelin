{
  LinkedList<Result> results=new LinkedList<Result>();
  ZQL zqlEvaluator=new ZQL(zql);
  zqlPlans=zqlEvaluator.compile();
  Connection conn=Z.getConnection();
  for (int i=0; i < zqlPlans.size(); i++) {
    Z zz=zqlPlans.get(i);
    Map<String,Object> p=new HashMap<String,Object>();
    if (params != null && params.size() >= i + 1) {
      p=params.get(i);
    }
    try {
      zz.withParams(p);
      zz.execute(conn);
      results.add(zz.result());
      zz.release();
    }
 catch (    ZException e) {
      error=new Result(e);
      throw e;
    }
  }
  conn.close();
  return results;
}
