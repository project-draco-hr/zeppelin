{
  VirtualDirectory classDir=virtualDirectory();
  File jarBuildDir=new File(System.getProperty("java.io.tmpdir") + "/ZeppelinFlinkJarBiuldDir_" + System.currentTimeMillis());
  jarBuildDir.mkdirs();
  File jarFile=new File(System.getProperty("java.io.tmpdir") + "/ZeppelinFlinkJarFile_" + System.currentTimeMillis()+ ".jar");
  Iterator<AbstractFile> vdIt=classDir.iterator();
  while (vdIt.hasNext()) {
    AbstractFile fi=vdIt.next();
    if (fi.isDirectory()) {
      Iterator<AbstractFile> fiIt=fi.iterator();
      while (fiIt.hasNext()) {
        AbstractFile f=fiIt.next();
        File lineDir=new File(jarBuildDir.getAbsolutePath(),fi.name());
        lineDir.mkdirs();
        File writeFile=new File(lineDir.getAbsolutePath(),f.name());
        FileOutputStream outputStream=new FileOutputStream(writeFile);
        InputStream inputStream=f.input();
        org.apache.commons.io.IOUtils.copy(inputStream,outputStream);
        inputStream.close();
        outputStream.close();
      }
    }
  }
  JarHelper jh=new JarHelper();
  jh.jarDir(jarBuildDir,jarFile);
  FileUtils.deleteDirectory(jarBuildDir);
  return jarFile;
}
