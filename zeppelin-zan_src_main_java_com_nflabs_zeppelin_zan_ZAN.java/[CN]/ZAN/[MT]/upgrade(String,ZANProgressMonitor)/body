{
  init(null);
  File lp=getLocalLibraryPath(libraryName);
  if (lp.exists() == false) {
    throw new ZANException(libraryName + " not installed");
  }
  Git git;
  try {
    git=Git.open(new File(localPath));
    SubmoduleInitCommand init=git.submoduleInit();
    init.addPath(libraryName);
    init.call();
    SubmoduleUpdateCommand submoduleUpdate=git.submoduleUpdate();
    if (progressListener != null) {
      submoduleUpdate.setProgressMonitor(progressListener);
    }
    Collection<String> ret=submoduleUpdate.call();
    git.close();
    if (ret == null || ret.isEmpty() || lp.exists() == false) {
      throw new ZANException("Can't update submodule " + libraryName);
    }
    sync(libraryName);
  }
 catch (  Exception e) {
    throw new ZANException(e);
  }
}
