{
  String q;
  try {
    FSDataInputStream ins=fs.open(erbFile);
    BufferedReader erb=new BufferedReader(new InputStreamReader(ins));
    ZContext zContext=new ZContext((prev() == null) ? null : prev().name(),null,params);
    q=getQuery(erb,zContext);
    ins.close();
  }
 catch (  IOException e1) {
    throw new ZException(e1);
  }
  String tableCreation=null;
  if (name() == null) {
    tableCreation="";
  }
 else {
    if (isCache()) {
      tableCreation="CREATE TABLE " + name() + " AS ";
    }
 else {
      tableCreation="CREATE VIEW " + name() + " AS ";
    }
  }
  return tableCreation + q;
}
