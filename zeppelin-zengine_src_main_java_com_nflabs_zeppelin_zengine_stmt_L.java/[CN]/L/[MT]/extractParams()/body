{
  initialize();
  Map<String,ParamInfo> paramInfos=new HashMap<String,ParamInfo>();
  ZLocalContextImpl zContext=null;
  if (erbFile != null) {
    InputStream ins;
    try {
      ins=new FileInputStream(erbFile);
      BufferedReader erb=new BufferedReader(new InputStreamReader(ins));
      zContext=new ZLocalContextImpl((prev() == null) ? null : prev().name(),name(),query,params);
      getQuery(erb,zContext);
      ins.close();
    }
 catch (    IOException e1) {
      logger().debug("dry run error",e1);
    }
catch (    ZException e) {
      logger().debug("dry run error",e);
    }
  }
  ZWebContext zWebContext=null;
  try {
    File resourcePath=new File(webDir,"index.erb");
    if (resourcePath.isFile() == true) {
      zWebContext=new ZWebContext(params,null);
      FileInputStream ins=new FileInputStream(resourcePath);
      BufferedReader erb=new BufferedReader(new InputStreamReader(ins));
      evalWebTemplate(erb,zWebContext);
      ins.close();
    }
  }
 catch (  IOException e) {
    logger().debug("dry run error",e);
  }
catch (  ZException e) {
    logger().debug("dry run error",e);
  }
  if (zWebContext != null) {
    paramInfos.putAll(zWebContext.getParamInfos());
  }
  if (zContext != null) {
    paramInfos.putAll(zContext.getParamInfos());
  }
  return paramInfos;
}
