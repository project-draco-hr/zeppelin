{
  final AtomicInteger onAdd=new AtomicInteger(0);
  final AtomicInteger onUpdate=new AtomicInteger(0);
  final AtomicInteger onRemove=new AtomicInteger(0);
  AngularObjectRegistry registry=new AngularObjectRegistry("intpId",new AngularObjectRegistryListener(){
    @Override public void onAdd(    String interpreterGroupId,    AngularObject object){
      onAdd.incrementAndGet();
    }
    @Override public void onUpdate(    String interpreterGroupId,    AngularObject object){
      onUpdate.incrementAndGet();
    }
    @Override public void onRemove(    String interpreterGroupId,    AngularObject object){
      onRemove.incrementAndGet();
    }
  }
);
  registry.add("name1","value1");
  assertEquals(1,registry.getAll().size());
  assertEquals(1,onAdd.get());
  assertEquals(0,onUpdate.get());
  registry.get("name1").set("newValue");
  assertEquals(1,onUpdate.get());
  registry.remove("name1");
  assertEquals(0,registry.getAll().size());
  assertEquals(1,onRemove.get());
  assertEquals(null,registry.get("name1"));
}
