{
  List<Thread> closeThreads=new LinkedList<Thread>();
synchronized (interpreterSettings) {
    Collection<InterpreterSetting> intpsettings=interpreterSettings.values();
    for (    final InterpreterSetting intpsetting : intpsettings) {
      Thread t=new Thread(){
        public void run(){
          intpsetting.getInterpreterGroup().close();
          intpsetting.getInterpreterGroup().destroy();
        }
      }
;
      t.start();
      closeThreads.add(t);
    }
  }
  for (  Thread t : closeThreads) {
    try {
      t.join();
    }
 catch (    InterruptedException e) {
      logger.error("Can't close interpreterGroup",e);
    }
  }
}
