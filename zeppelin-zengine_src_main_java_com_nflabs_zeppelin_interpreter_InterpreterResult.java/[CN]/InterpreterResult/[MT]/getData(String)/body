{
  if (msg == null) {
    return null;
  }
  Type[] types=Type.values();
  for (  Type t : types) {
    String magic="%" + t.name().toLowerCase();
    if (msg.startsWith(magic + " ") || msg.startsWith(magic + "\n")) {
      int magicLength=magic.length() + 1;
      if (msg.length() > magicLength) {
        return msg.substring(magicLength);
      }
 else {
        return "";
      }
    }
  }
  return msg;
}
