{
  if (conf != null)   return conf;
  ClassLoader classLoader=Thread.currentThread().getContextClassLoader();
  if (classLoader == null) {
    classLoader=ZeppelinConfiguration.class.getClassLoader();
  }
  URL url=classLoader.getResource("zeppelin-site.xml");
  if (url == null) {
    LOG.warn("Failed to load configuration, proceeding with a default");
    conf=new ZeppelinConfiguration();
  }
 else {
    try {
      conf=new ZeppelinConfiguration(url);
    }
 catch (    ConfigurationException e) {
      LOG.warn("Failed to load configuration from " + url + " proceeding with a default",e);
      conf=new ZeppelinConfiguration();
    }
  }
  return conf;
}
