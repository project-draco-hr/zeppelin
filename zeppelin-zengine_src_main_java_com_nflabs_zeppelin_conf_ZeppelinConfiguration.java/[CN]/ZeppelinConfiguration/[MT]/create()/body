{
  ClassLoader classLoader=Thread.currentThread().getContextClassLoader();
  if (classLoader == null) {
    classLoader=ZeppelinConfiguration.class.getClassLoader();
  }
  URL url=classLoader.getResource("zeppelin-site.xml");
  if (url == null) {
    LOG.warn("Failed to load configuration, proceeding with a default");
    return new ZeppelinConfiguration();
  }
  ZeppelinConfiguration result;
  try {
    result=new ZeppelinConfiguration(url);
  }
 catch (  ConfigurationException e) {
    LOG.warn("Failed to load configuration from " + url + " proceeding with a default",e);
    result=new ZeppelinConfiguration();
  }
  return result;
}
