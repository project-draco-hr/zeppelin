{
  if (tree != null) {
    File parseDir=new File(outDir,"parse");
    String expf=outPath(parseDir.toString(),tname.concat(".out"));
    File outf=null;
    outf=new File(logDir);
    outf=new File(outf,tname.concat(".out"));
    FileWriter outfd=new FileWriter(outf);
    outfd.write(tree.toStringTree());
    outfd.close();
    String cmdLine="diff " + outf.getPath() + " "+ expf;
    System.out.println(cmdLine);
    Process executor=Runtime.getRuntime().exec(cmdLine);
    StreamPrinter outPrinter=new StreamPrinter(executor.getInputStream(),null,SessionState.getConsole().getChildOutStream());
    StreamPrinter errPrinter=new StreamPrinter(executor.getErrorStream(),null,SessionState.getConsole().getChildErrStream());
    outPrinter.start();
    errPrinter.start();
    int exitVal=executor.waitFor();
    if (exitVal != 0 && overWrite) {
      System.out.println("Overwriting results");
      cmdLine="cp " + outf.getPath() + " "+ expf;
      executor=Runtime.getRuntime().exec(cmdLine);
      exitVal=executor.waitFor();
    }
    return exitVal;
  }
 else {
    throw new Exception("Parse tree is null");
  }
}
