{
  super.setUp();
  tmpDir=new File(System.getProperty("java.io.tmpdir") + "/ZeppelinLTest_" + System.currentTimeMillis());
  tmpDir.mkdir();
  TestUtil.delete(new File("/tmp/warehouse"));
  TestUtil.delete(new File(ROOT_DIR.getName()));
  System.setProperty(ConfVars.ZEPPELIN_ZAN_LOCAL_REPO.getVarName(),tmpDir.toURI().toString());
  Z.configure();
  HiveZeppelinDriver driver=new HiveZeppelinDriver(Z.conf());
  driver.setClient(client);
  Z.setDriver(driver);
  new File(tmpDir.getAbsolutePath() + "/test").mkdir();
  File erb=new File(tmpDir.getAbsolutePath() + "/test/zql.erb");
  FileOutputStream out=new FileOutputStream(erb);
  out.write(("select * from (<%= z." + Q.INPUT_VAR_NAME + " %>) a limit <%= z.param('limit') %>\n").getBytes());
  out.close();
  new File(tmpDir.getAbsolutePath() + "/test1/web").mkdirs();
  File index=new File(tmpDir.getAbsolutePath() + "/test1/web/index.erb");
  out=new FileOutputStream(index);
  out.write(("WEB\n").getBytes());
  out.close();
  FileOutputStream resource=new FileOutputStream(new File(tmpDir.getAbsolutePath() + "/test/test_data.log"));
  resource.write("".getBytes());
  resource.close();
}
