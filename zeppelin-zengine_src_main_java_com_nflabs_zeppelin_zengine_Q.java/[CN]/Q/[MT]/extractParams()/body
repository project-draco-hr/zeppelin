{
  Map<String,ParamInfo> paramInfos=new HashMap<String,ParamInfo>();
  ByteArrayInputStream ins=new ByteArrayInputStream(query.getBytes());
  BufferedReader erb=new BufferedReader(new InputStreamReader(ins));
  ZContext zContext=new ZContext((prev() == null) ? null : prev().name(),name(),query,params);
  try {
    getQuery(erb,zContext);
  }
 catch (  ZException e1) {
    logger().debug("dry run error",e1);
  }
  try {
    ins.close();
  }
 catch (  IOException e) {
  }
  ZWebContext zWebContext=null;
  if (isWebEnabled() == true) {
    zWebContext=new ZWebContext(null);
    InputStream in=this.getClass().getResourceAsStream("/table.erb");
    erb=new BufferedReader(new InputStreamReader(in));
    try {
      evalWebTemplate(erb,zWebContext);
    }
 catch (    ZException e1) {
      logger().debug("dry run error",e1);
    }
    try {
      ins.close();
    }
 catch (    IOException e) {
      logger().error("Assert",e);
    }
  }
  if (zWebContext != null) {
    paramInfos.putAll(zWebContext.getParamInfos());
  }
  if (zContext != null) {
    paramInfos.putAll(zContext.getParamInfos());
  }
  return paramInfos;
}
