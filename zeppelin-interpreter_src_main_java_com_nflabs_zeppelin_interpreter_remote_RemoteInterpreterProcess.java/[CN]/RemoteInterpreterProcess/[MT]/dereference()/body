{
synchronized (referenceCount) {
    int r=referenceCount.decrementAndGet();
    if (r == 0) {
      clientPool.close();
      watchdog.destroyProcess();
      executor=null;
      watchdog=null;
    }
    return r;
  }
}
