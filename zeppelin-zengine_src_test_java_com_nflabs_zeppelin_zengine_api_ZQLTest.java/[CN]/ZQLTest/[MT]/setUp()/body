{
  super.setUp();
  tmpDir=new File(System.getProperty("java.io.tmpdir") + "/ZeppelinLTest_" + System.currentTimeMillis());
  tmpDir.mkdir();
  String tmpDirPath=tmpDir.getAbsolutePath();
  UtilsForTests.delete(new File("/tmp/warehouse"));
  UtilsForTests.delete(new File(ROOT_DIR.getName()));
  System.setProperty(ConfVars.ZEPPELIN_ZAN_LOCAL_REPO.getVarName(),tmpDir.toURI().toString());
  String q1="select * from (<%= z." + Q.INPUT_VAR_NAME + " %>) a limit <%= z.param('limit') %>\n";
  new File(tmpDirPath + "/test").mkdir();
  UtilsForTests.createFileWithContent(tmpDirPath + "/test/zql.erb",q1);
  UtilsForTests.createFileWithContent(tmpDirPath + "/test/test_data.log","");
  new File(tmpDirPath + "/test1").mkdir();
  new File(tmpDirPath + "/test1/web").mkdirs();
  UtilsForTests.createFileWithContent(tmpDirPath + "/test1/web/index.erb","WEB\n");
  z=new Zengine();
  z.configure();
  ZeppelinDriver driver=UtilsForTests.createHiveTestDriver(z.getConf(),client);
  z._mockSingleAvailableDriver(ImmutableMap.of("hive",driver));
}
