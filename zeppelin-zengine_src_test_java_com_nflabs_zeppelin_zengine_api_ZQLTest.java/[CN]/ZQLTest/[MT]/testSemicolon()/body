{
  ZQL zql=new ZQL(z);
  zql.append("create table if not exists bank(a INT); select * from bank | select * from <%= z." + Q.INPUT_VAR_NAME + " %> limit 10; show tables; ");
  List<Z> plan=zql.compile();
  assertEquals(3,plan.size());
  assertEquals("select * from " + plan.get(1).prev().name() + " limit 10",plan.get(1).getQuery());
  assertEquals("show tables",plan.get(2).getQuery());
  for (  Z query : plan) {
    assertNotNull(query.getDriver());
  }
}
