{
  Client client=null;
  while (!shutdown && interpreterProcess.isRunning()) {
    try {
      client=interpreterProcess.getClient();
    }
 catch (    Exception e1) {
      logger.error("Can't get RemoteInterpreterEvent",e1);
      waitQuietly();
      continue;
    }
    RemoteInterpreterEvent event=null;
    try {
      event=client.getEvent();
    }
 catch (    TException e) {
      logger.error("Can't get RemoteInterpreterEvent",e);
      waitQuietly();
      continue;
    }
    interpreterProcess.releaseClient(client);
    Gson gson=new Gson();
    AngularObjectRegistry angularObjectRegistry=interpreterGroup.getAngularObjectRegistry();
    try {
      if (event.getType() == RemoteInterpreterEventType.NO_OP) {
        continue;
      }
 else       if (event.getType() == RemoteInterpreterEventType.ANGULAR_OBJECT_ADD) {
        AngularObject angularObject=gson.fromJson(event.getData(),AngularObject.class);
        angularObjectRegistry.add(angularObject.getName(),angularObject.get(),angularObject.getNoteId());
      }
 else       if (event.getType() == RemoteInterpreterEventType.ANGULAR_OBJECT_UPDATE) {
        AngularObject angularObject=gson.fromJson(event.getData(),AngularObject.class);
        AngularObject localAngularObject=angularObjectRegistry.get(angularObject.getName(),angularObject.getNoteId());
        if (localAngularObject instanceof RemoteAngularObject) {
          ((RemoteAngularObject)localAngularObject).set(angularObject.get(),true,false);
        }
 else {
          localAngularObject.set(angularObject.get());
        }
      }
 else       if (event.getType() == RemoteInterpreterEventType.ANGULAR_OBJECT_REMOVE) {
        AngularObject angularObject=gson.fromJson(event.getData(),AngularObject.class);
        angularObjectRegistry.remove(angularObject.getName(),angularObject.getNoteId());
      }
 else       if (event.getType() == RemoteInterpreterEventType.RUN_INTERPRETER_CONTEXT_RUNNER) {
        InterpreterContextRunner runnerFromRemote=gson.fromJson(event.getData(),RemoteInterpreterContextRunner.class);
        interpreterProcess.getInterpreterContextRunnerPool().run(runnerFromRemote.getNoteId(),runnerFromRemote.getParagraphId());
      }
      logger.debug("Event from remoteproceess {}",event.getType());
    }
 catch (    Exception e) {
      logger.error("Can't handle event " + event,e);
    }
  }
}
