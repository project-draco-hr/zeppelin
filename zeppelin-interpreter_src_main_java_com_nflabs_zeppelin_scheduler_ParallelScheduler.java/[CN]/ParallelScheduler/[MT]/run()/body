{
synchronized (queue) {
    while (terminate == false) {
      if (running.size() >= maxConcurrency || queue.isEmpty() == true) {
        try {
          queue.wait(500);
        }
 catch (        InterruptedException e) {
        }
        continue;
      }
      Job job=queue.remove(0);
      running.add(job);
      Scheduler scheduler=this;
      executor.execute(new JobRunner(scheduler,job));
    }
  }
}
