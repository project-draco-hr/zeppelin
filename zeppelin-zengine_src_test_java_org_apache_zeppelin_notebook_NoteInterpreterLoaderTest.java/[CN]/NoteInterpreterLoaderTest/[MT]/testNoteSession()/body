{
  factory.setInterpreters("noteA",factory.getDefaultInterpreterSettingList());
  factory.getInterpreterSettings("noteA").get(0).getOption().setPerNoteSession(true);
  factory.setInterpreters("noteB",factory.getDefaultInterpreterSettingList());
  factory.getInterpreterSettings("noteB").get(0).getOption().setPerNoteSession(true);
  assertNull(factory.getInterpreterSettings("noteA").get(0).getInterpreterGroup("shared_process").get("noteA"));
  assertNull(factory.getInterpreterSettings("noteB").get(0).getInterpreterGroup("shared_process").get("noteB"));
  factory.getInterpreter("noteA",null).open();
  factory.getInterpreter("noteB",null).open();
  assertTrue(factory.getInterpreter("noteA",null).getInterpreterGroup().getId().equals(factory.getInterpreter("noteB",null).getInterpreterGroup().getId()));
  assertNotNull(factory.getInterpreterSettings("noteA").get(0).getInterpreterGroup("shared_process").get("noteA"));
  assertNotNull(factory.getInterpreterSettings("noteB").get(0).getInterpreterGroup("shared_process").get("noteB"));
  factory.closeNote("noteA");
  factory.closeNote("noteB");
  assertNull(factory.getInterpreterSettings("noteA").get(0).getInterpreterGroup("shared_process").get("noteA"));
  assertNull(factory.getInterpreterSettings("noteB").get(0).getInterpreterGroup("shared_process").get("noteB"));
}
