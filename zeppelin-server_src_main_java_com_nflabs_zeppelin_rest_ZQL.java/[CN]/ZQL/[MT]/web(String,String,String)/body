{
  ZQLSession session=sessionManager.get(sessionId);
  if (session == null) {
    return new JsonResponse(Status.NOT_FOUND).build();
  }
  if (path == null || path.equals("/") || path.length() == 0) {
    path="/index.erb";
  }
  List<Z> plans=session.getPlan();
  for (  Z z : plans) {
    if (z.getId().equals(zId)) {
      try {
        InputStream ins=z.readWebResource(path);
        return Response.ok(IOUtils.toByteArray(ins),typeByExtention(path)).build();
      }
 catch (      ZException e) {
        logger.error("Can't read web resource",e);
        return new JsonResponse(Status.INTERNAL_SERVER_ERROR,e.getMessage()).build();
      }
catch (      IOException e) {
        logger.error("IOexception",e);
        return new JsonResponse(Status.INTERNAL_SERVER_ERROR,e.getMessage()).build();
      }
    }
  }
  return null;
}
